syntax = "proto3";

package chat.v1;

option go_package = "github.com/Dorazi23/gRPC_Chat_Project/pkg/chatpb;chatpb";

// 채팅 메시지 정의
message ChatMessage {
  string roomid = 1;    // 채팅방 ID
  string username = 2;  // 사용자 이름
  string message = 3;    // 메시지 내용
}

// 채팅 서비스 정의
// 양방향 스트리밍 RPC: 클라이언트가 stream으로 메시지를 보내고 서버도 stream으로 메시지를 응답
service ChatService {
  rpc JoinChat(stream ChatMessage) returns (stream ChatMessage);
}